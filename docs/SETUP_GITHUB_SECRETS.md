# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–î–µ–ø–ª–æ–π –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π: `Error: missing server host`

**–ü—Ä–∏—á–∏–Ω–∞:** GitHub Secrets –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Secrets

```
https://github.com/boofmebel/dnevnik-uspekha/settings/secrets/actions
```

–ò–ª–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/boofmebel/dnevnik-uspekha
2. –ù–∞–∂–º–∏—Ç–µ **Settings**
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Secrets and variables** ‚Üí **Actions**
4. –ù–∞–∂–º–∏—Ç–µ **New repository secret**

### 2. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ Secrets

#### SERVER_HOST
- **Name:** `SERVER_HOST`
- **Value:** `89.104.74.123`
- **Description:** IP –∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞

#### SERVER_USER
- **Name:** `SERVER_USER`
- **Value:** `root` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è SSH)
- **Description:** –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

#### SERVER_SSH_KEY
- **Name:** `SERVER_SSH_KEY`
- **Value:** –í–∞—à –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á (–ø–æ–ª–Ω—ã–π –∫–ª—é—á, –≤–∫–ª—é—á–∞—è `-----BEGIN OPENSSH PRIVATE KEY-----` –∏ `-----END OPENSSH PRIVATE KEY-----`)
- **Description:** –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å SSH –∫–ª—é—á:**
```bash
# –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ –µ—Å—Ç—å:
cat ~/.ssh/id_rsa

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π:
ssh-keygen -t rsa -b 4096 -C "github-actions"
cat ~/.ssh/id_rsa
```

**–í–∞–∂–Ω–æ:** –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ `~/.ssh/authorized_keys` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
echo "–≤–∞—à-–ø—É–±–ª–∏—á–Ω—ã–π-–∫–ª—é—á" >> ~/.ssh/authorized_keys
```

#### SERVER_PATH
- **Name:** `SERVER_PATH`
- **Value:** `/var/www/dnevnik-uspekha`
- **Description:** –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

#### SERVER_PORT (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **Name:** `SERVER_PORT`
- **Value:** `22`
- **Description:** SSH –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 22)

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö Secrets:
1. –°–¥–µ–ª–∞–π—Ç–µ –ª—é–±–æ–π –∫–æ–º–º–∏—Ç –≤ `main` –≤–µ—Ç–∫—É
2. –î–µ–ø–ª–æ–π –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: https://github.com/boofmebel/dnevnik-uspekha/actions

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π Secrets —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
ssh -i ~/.ssh/id_rsa root@89.104.74.123
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á –≤ `SERVER_SSH_KEY`.

## ‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ Secrets –≤ –∫–æ–¥!**
- Secrets —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ –≤ GitHub
- –î–æ—Å—Ç—É–ø –∫ Secrets –∏–º–µ—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- Secrets –Ω–µ –≤–∏–¥–Ω—ã –≤ –ª–æ–≥–∞—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è)

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π

```
SERVER_HOST=89.104.74.123
SERVER_USER=root
SERVER_SSH_KEY=-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn
...
-----END OPENSSH PRIVATE KEY-----
SERVER_PATH=/var/www/dnevnik-uspekha
SERVER_PORT=22
```

## üéØ –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö Secrets –¥–µ–ø–ª–æ–π –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main` –≤–µ—Ç–∫—É.

