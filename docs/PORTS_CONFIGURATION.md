# üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## ‚úÖ –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### MarketAI (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç)
- **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø**: http://89.104.74.123 (–ø–æ—Ä—Ç 80)
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç**: 127.0.0.1:5001 (gunicorn)
- **Dev –≤–µ—Ä—Å–∏—è**: 127.0.0.1:5002 (gunicorn)
- **Nginx –∫–æ–Ω—Ñ–∏–≥**: `/etc/nginx/sites-enabled/marketai`
- **–ü—Ä–æ–µ–∫—Ç**: `/home/marketai/marketai-pro/`

### –î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞ (–ø—Ä–æ–¥–∞–∫—à–Ω)
- **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø**: http://89.104.74.123:3000 (–ø–æ—Ä—Ç 3000)
- **Nginx –∫–æ–Ω—Ñ–∏–≥**: `/etc/nginx/sites-enabled/dnevnik-uspekha` (–ø–µ—Ä–≤—ã–π server –±–ª–æ–∫)
- **–ü—Ä–æ–µ–∫—Ç**: `/var/www/dnevnik-uspekha/`
- **–í–µ—Ç–∫–∞**: `main`

### –î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞ (—Ç–µ—Å—Ç)
- **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø**: http://89.104.74.123:8080 (–ø–æ—Ä—Ç 8080)
- **Nginx –∫–æ–Ω—Ñ–∏–≥**: `/etc/nginx/sites-enabled/dnevnik-uspekha` (–≤—Ç–æ—Ä–æ–π server –±–ª–æ–∫)
- **–ü—Ä–æ–µ–∫—Ç**: `/var/www/dnevnik-uspekha-test/`
- **–í–µ—Ç–∫–∞**: `dev`

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Nginx –∫–∞–∫ reverse proxy

Nginx —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç—ã 80, 3000, 8080 –∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã:

1. **–ü–æ—Ä—Ç 80** ‚Üí MarketAI (proxy_pass –Ω–∞ 127.0.0.1:5001)
2. **–ü–æ—Ä—Ç 3000** ‚Üí –î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞ (–ø—Ä–æ–¥–∞–∫—à–Ω, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)
3. **–ü–æ—Ä—Ç 8080** ‚Üí –î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞ (—Ç–µ—Å—Ç, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)

### –ü–æ—á–µ–º—É —Ç–∞–∫?

- **MarketAI** - Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Flask/FastAPI), –Ω—É–∂–µ–Ω gunicorn
- **–î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π frontend (HTML/JS), –æ—Ç–¥–∞—ë—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ nginx

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞ (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- –û–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª–∏ –Ω–∞ –ø–æ—Ä—Ç—É 80
- Nginx –Ω–µ –º–æ–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π –ø—Ä–æ–µ–∫—Ç –æ—Ç–¥–∞–≤–∞—Ç—å
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –†–µ—à–µ–Ω–∏–µ
- MarketAI –æ—Å—Ç–∞–ª—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 80 (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç)
- –î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞ –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ –ø–æ—Ä—Ç 3000
- –¢–µ—Å—Ç–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –æ—Å—Ç–∞–ª–∞—Å—å –Ω–∞ –ø–æ—Ä—Ç—É 8080

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è:
- Push –≤ `main` ‚Üí –¥–µ–ø–ª–æ–π –≤ `/var/www/dnevnik-uspekha` ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
- Push –≤ `dev` ‚Üí –¥–µ–ø–ª–æ–π –≤ `/var/www/dnevnik-uspekha-test` ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
ssh root@89.104.74.123 "nginx -t"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤
ssh root@89.104.74.123 "netstat -tlnp | grep LISTEN"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl -I http://89.104.74.123        # MarketAI
curl -I http://89.104.74.123:3000   # –î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞ (–ø—Ä–æ–¥–∞–∫—à–Ω)
curl -I http://89.104.74.123:8080   # –î–Ω–µ–≤–Ω–∏–∫ —É—Å–ø–µ—Ö–∞ (—Ç–µ—Å—Ç)
```

## üìã –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤:
- `/etc/nginx/sites-available/*.backup.*`

–î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
```bash
ssh root@89.104.74.123 "cp /etc/nginx/sites-available/dnevnik-uspekha.backup.* /etc/nginx/sites-available/dnevnik-uspekha"
```

