# üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –ü—Ä–∏–º–µ—Ä: –û–¥–∏–Ω —Ä–æ–¥–∏—Ç–µ–ª—å - –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Ç–µ–π

## ‚úÖ –î–∞, —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ!

–û–¥–∏–Ω —Ä–æ–¥–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å **2-3 (–∏–ª–∏ –±–æ–ª—å—à–µ) –ø—Ä–æ—Ñ–∏–ª–µ–π –¥–µ—Ç–µ–π**, –∏ —É –∫–∞–∂–¥–æ–≥–æ –±—É–¥–µ—Ç:
- ‚úÖ –°–≤–æ–π QR-–∫–æ–¥
- ‚úÖ –°–≤–æ–π PIN-–∫–æ–¥
- ‚úÖ –°–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ (–∑–∞–¥–∞—á–∏, –∑–≤—ë–∑–¥—ã, –∫–æ–ø–∏–ª–∫–∞)
- ‚úÖ –°–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üìã –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è

```bash
POST /api/auth/register
{
  "email": "parent@example.com",
  "password": "secure123",
  "role": "parent"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–æ–¥–∏—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω.

---

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ (–í–∏–∫–∞)

```bash
POST /api/children/
Authorization: Bearer <parent_token>
{
  "name": "–í–∏–∫–∞",
  "gender": "girl",
  "avatar": "..."
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
```json
{
  "id": 1,
  "name": "–í–∏–∫–∞",
  "user_id": 1,
  ...
}
```

---

### –®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –í–∏–∫–∏

```bash
POST /api/children/1/generate-access
Authorization: Bearer <parent_token>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "child_id": 1,
  "qr_code": "data:image/png;base64,iVBORw0KGgo...",
  "qr_token": "abc123xyz...",
  "pin": "1234",
  "pin_set": true,
  "expires_at": "2024-02-15T12:00:00"
}
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** PIN –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏! –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ.

---

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ (–ú–∞–∫—Å–∏–º)

```bash
POST /api/children/
Authorization: Bearer <parent_token>
{
  "name": "–ú–∞–∫—Å–∏–º",
  "gender": "boy",
  "avatar": "..."
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "id": 2,
  "name": "–ú–∞–∫—Å–∏–º",
  "user_id": 1,  // –¢–æ—Ç –∂–µ —Ä–æ–¥–∏—Ç–µ–ª—å!
  ...
}
```

---

### –®–∞–≥ 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –ú–∞–∫—Å–∏–º–∞

```bash
POST /api/children/2/generate-access
Authorization: Bearer <parent_token>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "child_id": 2,
  "qr_code": "data:image/png;base64,...",  // –î–†–£–ì–û–ô QR-–∫–æ–¥!
  "qr_token": "def456uvw...",  // –î–†–£–ì–û–ô —Ç–æ–∫–µ–Ω!
  "pin": "5678",  // –î–†–£–ì–û–ô PIN!
  "pin_set": true,
  "expires_at": "2024-02-15T12:00:00"
}
```

---

### –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ—Ç—å–µ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ (–ê–Ω—è)

```bash
POST /api/children/
Authorization: Bearer <parent_token>
{
  "name": "–ê–Ω—è",
  "gender": "girl",
  "avatar": "..."
}
```

```bash
POST /api/children/3/generate-access
Authorization: Bearer <parent_token>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "child_id": 3,
  "qr_code": "...",  // –¢–†–ï–¢–ò–ô QR-–∫–æ–¥!
  "qr_token": "...",  // –¢–†–ï–¢–ò–ô —Ç–æ–∫–µ–Ω!
  "pin": "9012",  // –¢–†–ï–¢–ò–ô PIN!
  ...
}
```

---

## üîê –í—Ö–æ–¥ –¥–µ—Ç–µ–π

### –í–∏–∫–∞ –≤—Ö–æ–¥–∏—Ç –ø–æ PIN:

```bash
POST /api/auth/child-pin
{
  "child_id": 1,
  "pin": "1234"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –∏ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ.

---

### –ú–∞–∫—Å–∏–º –≤—Ö–æ–¥–∏—Ç –ø–æ QR:

```bash
POST /api/auth/child-qr
{
  "qr_token": "def456uvw..."
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞–∫—Å–∏–º –ø–æ–ª—É—á–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –∏ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ.

---

### –ê–Ω—è –≤—Ö–æ–¥–∏—Ç –ø–æ PIN:

```bash
POST /api/auth/child-pin
{
  "child_id": 3,
  "pin": "9012"
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–Ω—è –ø–æ–ª—É—á–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –∏ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ.

---

## üì± –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–æ–¥–∏—Ç–µ–ª—è

–†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–µ—Ç–µ–π:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ú–æ–∏ –¥–µ—Ç–∏               ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ  üëß –í–∏–∫–∞                ‚îÇ
‚îÇ     QR-–∫–æ–¥: [–ü–æ–∫–∞–∑–∞—Ç—å]  ‚îÇ
‚îÇ     PIN: [–ò–∑–º–µ–Ω–∏—Ç—å]     ‚îÇ
‚îÇ     [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]        ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ  üë¶ –ú–∞–∫—Å–∏–º              ‚îÇ
‚îÇ     QR-–∫–æ–¥: [–ü–æ–∫–∞–∑–∞—Ç—å]  ‚îÇ
‚îÇ     PIN: [–ò–∑–º–µ–Ω–∏—Ç—å]     ‚îÇ
‚îÇ     [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]        ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ  üëß –ê–Ω—è                 ‚îÇ
‚îÇ     QR-–∫–æ–¥: [–ü–æ–∫–∞–∑–∞—Ç—å]  ‚îÇ
‚îÇ     PIN: [–ò–∑–º–µ–Ω–∏—Ç—å]     ‚îÇ
‚îÇ     [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]        ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ  [+ –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ö–∞–∂–¥—ã–π —Ä–µ–±—ë–Ω–æ–∫:
- ‚úÖ –ò–º–µ–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π PIN (4-6 —Ü–∏—Ñ—Ä)
- ‚úÖ –ò–º–µ–µ—Ç —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π QR-—Ç–æ–∫–µ–Ω
- ‚úÖ –í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ù–µ –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –¥–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö –¥–µ—Ç–µ–π
- ‚úÖ –ù–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –†–æ–¥–∏—Ç–µ–ª—å:
- ‚úÖ –í–∏–¥–∏—Ç –≤—Å–µ—Ö –¥–µ—Ç–µ–π
- ‚úÖ –ú–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º (–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR/PIN)
- ‚úÖ –ú–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—Å–µ—Ö –¥–µ—Ç–µ–π
- ‚úÖ –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–û–¥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç —Ä–æ–¥–∏—Ç–µ–ª—è** - –Ω–µ –Ω—É–∂–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
2. **–ü—Ä–æ—Å—Ç–æ–π –¥–æ—Å—Ç—É–ø –¥–ª—è –¥–µ—Ç–µ–π** - QR-–∫–æ–¥ –∏–ª–∏ PIN, –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
3. **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –∫–∞–∂–¥—ã–π —Ä–µ–±—ë–Ω–æ–∫ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–º** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –¥–µ—Ç–µ–π

---

## üìù API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –î–ª—è —Ä–æ–¥–∏—Ç–µ–ª—è:

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /api/auth/register

# –í—Ö–æ–¥
POST /api/auth/login

# –°–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π
GET /api/children/

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞
POST /api/children/

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞
POST /api/children/{child_id}/generate-access

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–∞ (–±–µ–∑ PIN)
GET /api/children/{child_id}/access
```

### –î–ª—è —Ä–µ–±—ë–Ω–∫–∞:

```bash
# –í—Ö–æ–¥ –ø–æ PIN
POST /api/auth/child-pin

# –í—Ö–æ–¥ –ø–æ QR
POST /api/auth/child-qr
```

---

## ‚úÖ –ò—Ç–æ–≥

**–î–∞, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å 2-3 (–∏–ª–∏ –±–æ–ª—å—à–µ) –¥–µ—Ç–µ–π –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è!**

–ö–∞–∂–¥—ã–π —Ä–µ–±—ë–Ω–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç:
- –°–≤–æ–π QR-–∫–æ–¥
- –°–≤–æ–π PIN-–∫–æ–¥
- –°–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- –°–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–†–æ–¥–∏—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ –¥–µ—Ç—å–º–∏ –∏–∑ –æ–¥–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.



