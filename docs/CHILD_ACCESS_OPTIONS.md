# üîê –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞

## üìã –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### –ß—Ç–æ –µ—Å—Ç—å:
- ‚úÖ Backend API —Å —Ä–æ–ª—è–º–∏: `ADMIN`, `PARENT`, `CHILD`
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ JWT
- ‚úÖ –ú–æ–¥–µ–ª—å `User` —Å –ø–æ–ª–µ–º `parent_id` (—Å–≤—è–∑—å —Ä–æ–¥–∏—Ç–µ–ª—å-—Ä–µ–±—ë–Ω–æ–∫)
- ‚úÖ –ú–æ–¥–µ–ª—å `Child` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Ä–µ–±—ë–Ω–∫–∞
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∞–¥–º–∏–Ω–∫–∞ –≤ frontend (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏)

### –ß–µ–≥–æ –Ω–µ—Ç:
- ‚ùå –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ—Ç `/api/auth/register`)
- ‚ùå –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
- ‚ùå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è frontend —Å backend

---

## üéØ –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: QR-–∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞ ‚≠ê (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –†–æ–¥–∏—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Ä–µ–±—ë–Ω–∫–∞
2. –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π QR-–∫–æ–¥ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
3. –†–µ–±—ë–Ω–æ–∫ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR-–∫–æ–¥ –Ω–∞ —Å–≤–æ—ë–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –±–µ–∑ –ø–∞—Ä–æ–ª—è

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞ (–ø—Ä–æ—Å—Ç–æ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ (QR-–∫–æ–¥ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω (QR-–∫–æ–¥ –º–æ–∂–Ω–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å)
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# Backend: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
POST /api/auth/generate-child-token
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: { "token": "...", "qr_code": "data:image/png;base64,..." }

# Frontend: –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–º–µ—Ä—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ—Å—Ç–æ–π PIN-–∫–æ–¥ (4-6 —Ü–∏—Ñ—Ä)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –†–æ–¥–∏—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—Ñ–∏–ª—å —Ä–µ–±—ë–Ω–∫–∞
2. –†–æ–¥–∏—Ç–µ–ª—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π PIN-–∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1234)
3. –†–µ–±—ë–Ω–æ–∫ –≤–≤–æ–¥–∏—Ç PIN-–∫–æ–¥ –ø—Ä–∏ –≤—Ö–æ–¥–µ
4. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏—Ç –≤ –∞–∫–∫–∞—É–Ω—Ç —Ä–µ–±—ë–Ω–∫–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –ú–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ (–º–æ–∂–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å)
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# Backend: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PIN –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
PUT /api/children/{child_id}/pin
# { "pin": "1234" }

# Backend: –í—Ö–æ–¥ –ø–æ PIN
POST /api/auth/child-login
# { "child_id": 1, "pin": "1234" }
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°—Å—ã–ª–∫–∞-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ (Magic Link)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –†–æ–¥–∏—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—Ñ–∏–ª—å —Ä–µ–±—ë–Ω–∫–∞
2. –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: `dnevnik-uspekha.ru/child/abc123xyz`)
3. –†–æ–¥–∏—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É —Ä–µ–±—ë–Ω–∫—É (SMS, –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä)
4. –†–µ–±—ë–Ω–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ (–ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É)
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ SMS/–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—É
- ‚úÖ –°—Å—ã–ª–∫—É –º–æ–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –ù—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞
- ‚ö†Ô∏è –°—Å—ã–ª–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ (–Ω—É–∂–Ω–∞ –∑–∞—â–∏—Ç–∞)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# Backend: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏
POST /api/children/{child_id}/invite-link
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: { "link": "https://.../child/abc123", "expires_at": "..." }

# Backend: –í—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ
GET /api/auth/child-invite/{token}
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏—Ç –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –†–æ–¥–∏—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Å—ë
2. –†–æ–¥–∏—Ç–µ–ª—å "–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç" –¥–æ—Å—Ç—É–ø –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
3. –†–µ–±—ë–Ω–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥
4. –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ cookie/localStorage

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –≤–≤–æ–¥–∏—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- ‚ö†Ô∏è –ú–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# Backend: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞
POST /api/children/{child_id}/activate
# –°–æ–∑–¥–∞—ë—Ç —Å–µ—Å—Å–∏—é –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞

# Frontend: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
# –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 5: –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Ä–µ–±—ë–Ω–∫–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –†–æ–¥–∏—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `PARENT`
2. –†–æ–¥–∏—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞ (email: `child1@family.com`)
3. –†–µ–±—ë–Ω–æ–∫ –≤—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø—Ä–æ—Å—Ç—ã–º –ø–∞—Ä–æ–ª–µ–º
4. –†–æ–¥–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ä–µ–±—ë–Ω–∫–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Ç–µ–π –Ω–∞ –æ–¥–Ω–æ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è
- ‚úÖ –†–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –†–µ–±—ë–Ω–∫—É –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å email –∏ –ø–∞—Ä–æ–ª—å
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –¥–µ—Ç–µ–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# Backend: –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ —Ä–µ–±—ë–Ω–∫–∞
POST /api/users/register-child
# { "email": "child1@family.com", "password": "simple123", "parent_id": 1 }

# Backend: –í—Ö–æ–¥ —Ä–µ–±—ë–Ω–∫–∞
POST /api/auth/login
# –û–±—ã—á–Ω—ã–π login, –Ω–æ —Å —Ä–æ–ª—å—é CHILD
```

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –í–ê–†–ò–ê–ù–¢: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

### –ö–æ–º–±–∏–Ω–∞—Ü–∏—è QR-–∫–æ–¥ + PIN-–∫–æ–¥

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. **–ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥:** –†–µ–±—ë–Ω–æ–∫ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR-–∫–æ–¥ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª–µ–º)
2. **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤—Ö–æ–¥—ã:** –†–µ–±—ë–Ω–æ–∫ –≤–≤–æ–¥–∏—Ç –ø—Ä–æ—Å—Ç–æ–π PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã)
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** QR-–∫–æ–¥ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å, PIN –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ (QR)
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö (PIN)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è
```python
POST /api/auth/register
{
  "email": "parent@example.com",
  "password": "secure123",
  "role": "parent"
}
```

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ä–µ–±—ë–Ω–∫–∞
```python
POST /api/children/
{
  "name": "–í–∏–∫–∞",
  "gender": "girl",
  "avatar": "..."
}
```

### –≠—Ç–∞–ø 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞
```python
POST /api/children/{child_id}/access
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
{
  "qr_code": "data:image/png;base64,...",
  "pin": "1234",  # –∏–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  "invite_link": "https://.../child/abc123"
}
```

### –≠—Ç–∞–ø 4: –í—Ö–æ–¥ —Ä–µ–±—ë–Ω–∫–∞
```python
# –í–∞—Ä–∏–∞–Ω—Ç A: –ü–æ QR-–∫–æ–¥—É
POST /api/auth/child-qr
{ "qr_token": "..." }

# –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ PIN
POST /api/auth/child-pin
{ "child_id": 1, "pin": "1234" }

# –í–∞—Ä–∏–∞–Ω—Ç C: –ü–æ —Å—Å—ã–ª–∫–µ
GET /api/auth/child-invite/{token}
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–ª—è –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ (15 –º–∏–Ω—É—Ç)
- ‚úÖ Refresh tokens –≤ HttpOnly cookies
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≥–ª–∞—Å–∏—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è QR/PIN:
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ (rate limiting)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR/PIN —Ä–æ–¥–∏—Ç–µ–ª–µ–º

---

## üì± –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞

### –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- ‚úÖ –ë–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ‚úÖ –ú–∏–Ω–∏–º—É–º –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –Ø—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞ –∏ –∏–∫–æ–Ω–∫–∏

### –ß—Ç–æ –≤–∏–¥–∏—Ç —Ä–µ–±—ë–Ω–æ–∫:
- ‚úÖ –°–≤–æ–∏ –∑–∞–¥–∞—á–∏
- ‚úÖ –°–≤–æ–∏ –∑–≤—ë–∑–¥—ã
- ‚úÖ –°–≤–æ—é –∫–æ–ø–∏–ª–∫—É
- ‚úÖ –°–≤–æ–π –¥–Ω–µ–≤–Ω–∏–∫
- ‚úÖ –°–≤–æ–π —Å–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π

### –ß—Ç–æ –ù–ï –≤–∏–¥–∏—Ç —Ä–µ–±—ë–Ω–æ–∫:
- ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—É—Ä—Å–∞ –æ–±–º–µ–Ω–∞
- ‚ùå –ê–¥–º–∏–Ω–∫—É
- ‚ùå –î–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö –¥–µ—Ç–µ–π
- ‚ùå –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:** **QR-–∫–æ–¥ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ + PIN –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö**

**–ü–æ—á–µ–º—É:**
1. –ü—Ä–æ—Å—Ç–æ –¥–ª—è —Ä–µ–±—ë–Ω–∫–∞ (–Ω–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å)
2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å)
3. –£–¥–æ–±–Ω–æ (–±—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –ø–æ PIN)
4. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ï—Å–ª–∏ QR-–∫–æ–¥ —Å–ª–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **PIN-–∫–æ–¥** (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç).



