# 🔐 Как получить доступ к админке

## ⚠️ Важно

Админка находится на **отдельной странице** `admin.html`, а не в обычном приложении.

---

## 🔗 Правильная ссылка

**Продакшн:**
```
http://89.104.74.123:3000/admin.html
```

**Тест:**
```
http://89.104.74.123:8080/admin.html
```

**⚠️ Обратите внимание:** `.html` в конце!

---

## 📋 Шаги для доступа

### Шаг 1: Создайте администратора

Подключитесь к базе данных и выполните:

```sql
UPDATE users SET role = 'admin' WHERE email = 'ваш_email@example.com';
```

Или создайте нового администратора:

```sql
INSERT INTO users (email, password_hash, role) 
VALUES ('admin@example.com', '$2b$12$...', 'admin');
```

### Шаг 2: Войдите как администратор

1. Откройте главную страницу: `http://89.104.74.123:3000`
2. Войдите с email и паролем администратора
3. После входа вы получите JWT токен

### Шаг 3: Откройте админку

1. Откройте: `http://89.104.74.123:3000/admin.html`
2. Если токен сохранён - админка загрузится автоматически
3. Если нет - будет редирект на главную страницу

---

## 🔍 Проверка

### Как понять, что это админка:

1. **Заголовок:** "🔐 Админ-панель" (тёмный фон)
2. **Навигация:** Dashboard, Пользователи, Дети, Подписки, Уведомления
3. **Контент:** Статистика, таблицы с данными, а не задачи и звёзды

### Если видите обычный интерфейс:

- ❌ Вы на главной странице (`index.html`)
- ✅ Нужно открыть `admin.html`

---

## 🛠️ Устранение проблем

### Проблема: "Требуется авторизация"

**Решение:**
1. Войдите на главной странице как администратор
2. Токен сохранится в памяти
3. Откройте `admin.html`

### Проблема: "Требуются права администратора"

**Решение:**
1. Убедитесь, что ваш пользователь имеет роль `admin` в БД
2. Выйдите и войдите заново
3. Откройте `admin.html`

### Проблема: Вижу обычный интерфейс вместо админки

**Решение:**
1. Проверьте URL - должно быть `/admin.html`
2. Очистите кэш браузера (Ctrl+Shift+R)
3. Убедитесь, что файл `admin.html` существует на сервере

---

## 📝 Временное решение

Если токен не сохраняется между страницами, можно временно сохранить его:

```javascript
// В консоли браузера на главной странице после входа:
localStorage.setItem('admin_token', apiClient.getAccessToken());
```

Затем откройте `admin.html` - токен будет использован автоматически.

---

## ✅ Правильный интерфейс админки

Админка должна выглядеть так:

```
┌─────────────────────────────────────┐
│ 🔐 Админ-панель    [Email] [Выход] │
├─────────────────────────────────────┤
│ [Dashboard] [Пользователи] [Дети]  │
│ [Подписки] [Уведомления]            │
├─────────────────────────────────────┤
│ 📊 Статистика                       │
│ ┌─────┬─────┬─────┐                │
│ │ 👥  │ 👨  │ 👧  │                │
│ │ 150 │ 100 │ 200 │                │
│ └─────┴─────┴─────┘                │
│                                     │
│ 👥 Последние пользователи           │
│ [Таблица с пользователями]          │
└─────────────────────────────────────┘
```

**НЕ так:**
- ❌ Задачи и звёзды
- ❌ Копилка и дневник
- ❌ Навигация "Дела", "Задания", "Цель"

---

## 🚀 Быстрый доступ

После первого входа как администратор, добавьте в закладки:

```
http://89.104.74.123:3000/admin.html
```



