# üîç –®–∞–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ—à–∏–±–∫–∏ 401

## –ü—Ä–æ–±–ª–µ–º–∞
–¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è (–¥–ª–∏–Ω–∞ 140 —Å–∏–º–≤–æ–ª–æ–≤), –Ω–æ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 Unauthorized.

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 2. –î–æ–±–∞–≤–ª–µ–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
- ‚úÖ `/api/debug/token` - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `http://89.104.74.123:3000` –≤ ALLOWED_ORIGINS

## –®–∞–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É):
```
http://89.104.74.123:8000/api/debug/token
```

–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø–æ–∫–∞–∂–µ—Ç:
- –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–æ–∫–µ–Ω–∞ (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏)
- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏
- –î–ª–∏–Ω—É SECRET_KEY
- –ê–ª–≥–æ—Ä–∏—Ç–º

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
```
=== TOKEN VERIFICATION START ===
Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
Verifying token with SECRET_KEY length: ...
Token decoded successfully. Payload: ...
=== TOKEN VERIFICATION SUCCESS ===
```

–ò–ª–∏ –æ—à–∏–±–∫–∞:
```
=== TOKEN VERIFICATION FAILED ===
Token expired
–∏–ª–∏
Invalid token signature - SECRET_KEY mismatch
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SECRET_KEY

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
cd backend
cat .env | grep SECRET_KEY
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SECRET_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–µ –ø—É—Å—Ç–æ–π.

### –®–∞–≥ 4: –í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ

1. –û—á–∏—Å—Ç–∏—Ç–µ localStorage:
   ```javascript
   localStorage.removeItem('admin_token');
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

3. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. SECRET_KEY –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
**–°–∏–º–ø—Ç–æ–º:** "Invalid token signature"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SECRET_KEY –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ç–æ–∫–µ–Ω–∞

### 2. –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫
**–°–∏–º–ø—Ç–æ–º:** "Token expired"
**–†–µ—à–µ–Ω–∏–µ:** –í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ

### 3. –¢–æ–∫–µ–Ω —Å–æ–∑–¥–∞–Ω –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π
**–°–∏–º–ø—Ç–æ–º:** –¢–æ–∫–µ–Ω –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è "type"
**–†–µ—à–µ–Ω–∏–µ:** –í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω

### 4. –ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
**–°–∏–º–ø—Ç–æ–º:** "JWT Error" –∏–ª–∏ "Invalid token"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ `/api/debug/token`

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

1. **–û—á–∏—Å—Ç–∏—Ç–µ —Ç–æ–∫–µ–Ω:**
   ```javascript
   localStorage.removeItem('admin_token');
   ```

2. **–í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:**
   - –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ç–æ–∫–µ–Ω–∞
   - –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - –æ–Ω–∏ –±—É–¥—É—Ç –≤ –ª–æ–≥–∞—Ö

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É, –æ—Ç–∫—Ä–æ–π—Ç–µ:
```
http://89.104.74.123:8000/api/debug/token
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–∫–µ–Ω–µ –∏ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É.

