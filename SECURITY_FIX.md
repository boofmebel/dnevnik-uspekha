# üîí –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. ‚úÖ IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ —É–¥–∞–ª–µ–Ω –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ë—ã–ª–æ:** IP –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** IP —Ç–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ Secrets
- **–î–µ–π—Å—Ç–≤–∏—è:** 
  - –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π IP –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ git (—Å–º. –Ω–∏–∂–µ)
  - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ Secrets –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è IP

### 2. ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –∑–∞—â–∏—â–µ–Ω—ã
- **–ë—ã–ª–æ:** –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –º–æ–≥–ª–∏ –±—ã—Ç—å –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`
  - –£–¥–∞–ª–µ–Ω—ã –∏–∑ –≤—Å–µ—Ö –∫–æ–º–º–∏—Ç–æ–≤
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ë—ã–ª–æ:** –°–∫—Ä–∏–ø—Ç—ã –º–æ–≥–ª–∏ –º–æ–ª—á–∞ –ø–∞–¥–∞—Ç—å
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
  - –î–æ–±–∞–≤–ª–µ–Ω `set -e` –∏ `set -u` –≤ workflow
  - –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ git –∫–æ–º–∞–Ω–¥
  - –Ø–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üö® –°–†–û–ß–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø:

### –ï—Å–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –±—ã–ª –∑–∞–∫–æ–º–º–∏—á–µ–Ω:

1. **–û–¢–ó–û–í–ò–¢–ï –∫–ª—é—á –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ:**
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —É–¥–∞–ª–∏—Ç–µ –∫–ª—é—á –∏–∑ authorized_keys
   ssh root@your-server
   nano ~/.ssh/authorized_keys
   # –£–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –∫–ª—é—á–æ–º
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á:**
   ```bash
   ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519_new -C "github-actions-deploy"
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –≤ GitHub Secrets**

4. **–û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é git (–µ—Å–ª–∏ –∫–ª—é—á –±—ã–ª –∑–∞–∫–æ–º–º–∏—á–µ–Ω):**
   ```bash
   # –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ø–µ—Ä–µ–ø–∏—à–µ—Ç –∏—Å—Ç–æ—Ä–∏—é!
   git filter-branch --force --index-filter \
     "git rm --cached --ignore-unmatch SSH_PRIVATE_KEY.txt" \
     --prune-empty --tag-name-filter cat -- --all
   
   # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω—ã!)
   # git push origin --force --all
   ```

### –ï—Å–ª–∏ IP –±—ã–ª –∑–∞–∫–æ–º–º–∏—á–µ–Ω:

1. **–°–º–µ–Ω–∏—Ç–µ IP –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ firewall:**
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å IP GitHub Actions
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –∏–ª–∏ SSH —á–µ—Ä–µ–∑ jump host

2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ:**
   - IP –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤
   - –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
   - –ü–∞—Ä–æ–ª–∏
   - API —Ç–æ–∫–µ–Ω—ã

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
   - GitHub Secrets –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - `.gitignore` –¥–ª—è –∑–∞—â–∏—Ç—ã —Ñ–∞–π–ª–æ–≤

3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:**
   ```bash
   git diff --cached | grep -i "password\|key\|secret\|ip"
   ```

